import time

dict_shano = {
    # Special Characters
    '\0': '101', '\v': '103', '\f': '107', '\b': '109', '\t': '113',
    '\r': '127', '\n': '131', '\\': '137', '\"': '139', '\'': '149',

    # Numbers
    '0': '151', '1': '157', '2': '163', '3': '167', '4': '173',
    '5': '179', '6': '181', '7': '191', '8': '193', '9': '197',

    # Lowercase Letters
    'a': '199', 'b': '211', 'c': '223', 'd': '227', 'e': '229',
    'f': '233', 'g': '239', 'h': '241', 'i': '251', 'j': '257',
    'k': '263', 'l': '269', 'm': '271', 'n': '277', 'o': '281',
    'p': '283', 'q': '293', 'r': '307', 's': '311', 't': '313',
    'u': '317', 'v': '331', 'w': '337', 'x': '347', 'y': '349',
    'z': '353',

    # Uppercase Letters
    'A': '359', 'B': '367', 'C': '373', 'D': '379', 'E': '383',
    'F': '389', 'G': '397', 'H': '401', 'I': '409', 'J': '419',
    'K': '421', 'L': '431', 'M': '433', 'N': '439', 'O': '443',
    'P': '449', 'Q': '457', 'R': '461', 'S': '463', 'T': '467',
    'U': '479', 'V': '487', 'W': '491', 'X': '499', 'Y': '503',
    'Z': '509',

    # Symbols
    '~': '523', '`': '541', '!': '547', '@': '557', '#': '563',
    '$': '569', '%': '571', '^': '577', '&': '587', '*': '593',
    '(': '599', ')': '601', '-': '607', '_': '613', '+': '617',
    '=': '619', '{': '631', '}': '641', '[': '643', ']': '647',
    '|': '653', '/': '659', ':': '661', ';': '673', '<': '677',
    '>': '683', ',': '691', '.': '701', '?': '709', ' ': '727'
}

list_shano = [
  '101', '103', '107', '109', '113', '127', '131', '137', '139', '149',
  '151', '157', '163', '167', '173', '179', '181', '191', '193', '197',
  '199', '211', '223', '227', '229', '233', '239', '241', '251', '257',
  '263', '269', '271', '277', '281', '283', '293', '307', '311', '313',
  '317', '331', '337', '347', '349', '353', '359', '367', '373', '379',
  '383', '389', '397', '401', '409', '419', '421', '431', '433', '439',
  '443', '449', '457', '461', '463', '467', '479', '487', '491', '499',
  '503', '509', '523', '541', '547', '557', '563', '569', '571', '577',
  '587', '593', '599', '601', '607', '613', '617', '619', '631', '641',
  '643', '647', '653', '659', '661', '673', '677', '683', '691', '701',
  '709', '727'
]


def implode(data, tuple_result = False):
    value = 0
    hash = 0
    result = 0
    loop = 0
    countdata = len(data)
    
    while loop < countdata:
        procces = data[loop]
        value += int(dict_shano[procces])
        hash += int(dict_shano[procces]) + result
        result += int(dict_shano[procces])
        loop += 1
        
    if tuple_result == True:
        return loop, value, hex(hash)
    
    else:
        return f'n{loop}v{value}h{hex(hash)}'


def explode(data):
    node = int(data[data.find('n') + 1:data.find('v')]) 
    value = int(data[data.find('v') + 1:data.find('h')])
    hash = str(data[data.find('h') + 1:])
    nodes = [value] * node
    shano = list(map(int, list_shano))
    
    print(node)
    print(value)
    print(hash)
    
    pnode = [[]for _ in nodes]
    index = 0
    
    for i in nodes:
        for a in shano:
            pnode[index].append(i - a)
        
        index += 1
        
        
    pindex = 0
    result = 0
    for a in pnode[0]:
        for b in pnode[1]:
            c = a + b
            d = a * 2 - result
            result = c
            
            if c != 0:
                result = 0
            
            if c == 0 and hex(d) == hash:
                print(f"ok {a} {b}")
            
                
    #print(pnode)





print(implode('1001'))
print(implode('1010'))
print(implode('1100'))
explode(implode('1001'))
